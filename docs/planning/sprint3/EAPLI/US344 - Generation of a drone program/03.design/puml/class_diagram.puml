@startuml
skinparam classAttributeIconSize 0

package "usermanagement.domain" {
    class User {
        - Email id
        - Password password
        - String name
        - String phoneNumber
        - boolean active
        + activate(): void
        + deactivate(): void
        + isActive(): boolean
        + getId(): Email
    }

    class Email {
        - String value
    }

    class Password {
        - String hashedValue
    }

    User --> Email
    User --> Password
}

package "usermanagement.application" {
    class FilterUsersController {
        + getUsersByFilter(filterIndex: int): List<User>
    }

    class CheckUserStatusController {
        + isUserActive(user: User): boolean
    }

    class UserStatusController {
        + changeUserStatus(user: User, activate: boolean): boolean
        + activateUser(user: User): boolean
        + deactivateUser(user: User): boolean
    }
}

package "usermanagement.persistence" {
    interface UserRepository {
        + save(user: User): void
        + findAll(): List<User>
    }

    interface AuthenticationRepository {
        + setUserActive(userId: String, active: boolean): void
    }
}

FilterUsersController --> UserRepository
CheckUserStatusController --> User
UserStatusController --> User
UserStatusController --> UserRepository
UserStatusController --> AuthenticationRepository

@enduml