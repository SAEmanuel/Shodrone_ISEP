@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Collision Detection Sequence Diagram - US263

autonumber

actor "Drone Operator" as Operator
participant "System" as System
participant "CollisionDetector" as Detector
participant "Logger" as Logger
participant "DroneProcess" as Drone

activate Operator

Operator -> System: start show monitoring
activate System

loop for each timestamp
System -> Detector: process drone positions
activate Detector
Detector -> Detector: calculate distances between drones
alt collision detected (distance < combined radius)
Detector -> System: notify collision
System -> Logger: log collision event
activate Logger
Logger --> System: collision logged
deactivate Logger
System -> Drone: send SIGUSR1 (pause)
activate Drone
Drone --> System: paused
System -> System: wait for operator action
System -> Drone: send SIGCONT (resume)
Drone --> System: resumed
deactivate Drone
else no collision
Detector --> System: update positions (normal status)
end alt
deactivate Detector
end loop

Operator -> System: stop show monitoring
deactivate System

deactivate Operator

note right: Updated as of 11:27 AM WEST on May 16, 2025.\n- Collision radius = (biggestDimension/200 + 0.5m).\n- Excludes terminated drones.

@enduml