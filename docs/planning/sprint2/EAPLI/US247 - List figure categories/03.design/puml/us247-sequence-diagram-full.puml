@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title UI Sequence Diagram (SSD) - List Figure Categories

autonumber

actor "Show Designer" as SD
participant ":ListAllFigureCategoriesUI" as UI
participant ":GetFigureCategoriesController" as CTRL
participant "RepositoryProvider" as Provider
participant "FigureCategoryRepository" as Repo
participant "InMemoryFigureCategoryRepository" as InMemRepo
participant "FigureCategoryJPAImpl" as JpaRepo

activate SD
SD -> UI : requests to list all categories
activate UI

UI -> CTRL : getAllFigureCategories()
activate CTRL

CTRL -> Provider** : figureCategoryRepository()
activate Provider

Provider --> CTRL : repository instance
deactivate Provider

alt Repository is InMemoryFigureCategoryRepository
    CTRL -> InMemRepo : findAll()
    activate InMemRepo

    InMemRepo --> CTRL : Optional<List<FigureCategory>>
    deactivate InMemRepo
else Repository is FigureCategoryJPAImpl
    CTRL -> JpaRepo : findAll()
    activate JpaRepo

    JpaRepo --> CTRL : Optional<List<FigureCategory>>
    deactivate JpaRepo
end

CTRL --> UI : Optional<List<FigureCategory>>
deactivate CTRL

alt List is not empty
    UI -> SD : display list of categories
else List is empty
    UI -> SD : show message "No categories in the system yet..."
end
deactivate UI
deactivate SD
@enduml